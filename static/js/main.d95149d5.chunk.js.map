{"version":3,"sources":["img sync /^/place/-.*/.svg$","img/place-1.svg","img/place-2.svg","img/place-3.svg","data/constants.js","components/Avatar.jsx","components/Author.jsx","components/Search.jsx","components/PageNavigation.jsx","components/SortBy.jsx","components/Authors.jsx","components/App.js","index.js"],"names":["map","./place-1.svg","./place-2.svg","./place-3.svg","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","SORT_BY_NAME","SORT_BY_VIEWS","COLORS","Avatar","_ref","name","views","react_default","a","createElement","className","style","backgroundColor","concat","length","charAt","toLocaleUpperCase","Author","user","index","components_Avatar","pageviews","count_pub","topPlace","alt","src","require","toString","replace","Search","handleSearch","searchQuery","type","placeholder","value","onChange","PageNavigation","authorsCount","page","setPage","arrayIndex","disabled","onClick","SortBy","sortBy","handleSort","checked","Authors","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","target","searchedAuthors","defaultAuthors","filter","item","toLowerCase","includes","setState","authors","_ref2","state","sort","sortByViews","sortByNames","b","_this2","data","i","_this$state","Fragment","components_SortBy","components_Search","slice","components_Author","key","components_PageNavigation","React","Component","App","Authors_Authors","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.d95149d5.chunk.js","sourcesContent":["var map = {\n\t\"./place-1.svg\": 16,\n\t\"./place-2.svg\": 17,\n\t\"./place-3.svg\": 18\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 15;","module.exports = __webpack_public_path__ + \"static/media/place-1.86c17a70.svg\";","module.exports = __webpack_public_path__ + \"static/media/place-2.74629788.svg\";","module.exports = __webpack_public_path__ + \"static/media/place-3.4d3ff583.svg\";","export const SORT_BY_NAME = \"SORT_BY_NAME\";\r\nexport const SORT_BY_VIEWS = \"SORT_BY_VIEWS\";\r\nexport const COLORS = ['67c9de','ba6fcb', 'e39473','5aa9e6','ac5061', '9ec07f', 'b4507b', '345feb', 'c1da90'];\r\n","import React from 'react';\r\nimport {COLORS} from '../data/constants'\r\n\r\nconst Avatar = ({name, views}) => (\r\n  <div className=\"avatar\" style={{backgroundColor: `#${COLORS[views % COLORS.length]}`}}>\r\n    {name.charAt(0).toLocaleUpperCase()}\r\n  </div>\r\n);\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\nimport Avatar from './Avatar'\r\n\r\nconst Author = ({user, index}) => (\r\n  <li className={\"author \" + (((index % 2) ? \"author_odd\" : \"\"))}>\r\n    <p className=\"author__index\">{index + 1}</p>\r\n    <Avatar\r\n      views={user.pageviews}\r\n      name={user.name}/>\r\n    <div className=\"author__info\">\r\n      <p className=\"author__name\">{user.name}</p>\r\n      <p className=\"author__publications\">{`${user.count_pub} публ.`}</p>\r\n    </div>\r\n    {user.topPlace && (<img\r\n      className=\"author__medal\"\r\n      alt=\"top author\"\r\n      src={require(`../img/place-${user.topPlace}.svg`)}/>)}\r\n    <p className=\"author__views\">\r\n      {user.pageviews.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \")}\r\n    </p>\r\n  </li>\r\n);\r\n\r\nexport default Author;\r\n","import React from 'react';\r\n\r\nconst Search = ({handleSearch, searchQuery}) => (\r\n  <form className=\"search\">\r\n    <input\r\n      className=\"search__input\"\r\n      type=\"text\"\r\n      placeholder=\"Поиск авторов по имени\"\r\n      value={searchQuery}\r\n      onChange={handleSearch}/>\r\n  </form>\r\n);\r\n\r\nexport default Search;\r\n","import React from 'react';\r\n\r\nconst PageNavigation = ({authorsCount, page, setPage}) => {\r\n  const arrayIndex = (page - 1) * 10;\r\n  return (\r\n    <div className=\"pagination\">\r\n      <button\r\n        className=\"pagination__btn pagination__btn_prev\"\r\n        disabled={arrayIndex === 0}\r\n        onClick={() => {\r\n          setPage(page - 1)\r\n        }}/>\r\n      {`${authorsCount === 0 ? 0 : arrayIndex + 1} - ${arrayIndex + 10 > authorsCount ? authorsCount : arrayIndex + 10}`}\r\n      <button\r\n        className=\"pagination__btn pagination__btn_next\"\r\n        disabled={arrayIndex + 10 > authorsCount}\r\n        onClick={() => {\r\n          setPage(page + 1)\r\n        }}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default PageNavigation;\r\n\r\n","import React from 'react';\r\nimport {SORT_BY_NAME, SORT_BY_VIEWS} from \"../data/constants\";\r\n\r\nconst SortBy = ({sortBy, handleSort}) => (\r\n  <div className=\"sortBy\">\r\n    <label className=\"sortBy__label\">\r\n      <input\r\n        className=\"sortBy__radio\"\r\n        type=\"radio\"\r\n        name={SORT_BY_VIEWS}\r\n        checked={sortBy === SORT_BY_VIEWS}\r\n        onChange={handleSort}/>\r\n      <span className=\"sortBy__checked\"/>\r\n      Сортировка по просмотрам\r\n    </label>\r\n    <label className=\"sortBy__label\">\r\n      <input\r\n        className=\"sortBy__radio\"\r\n        type=\"radio\"\r\n        name={SORT_BY_NAME}\r\n        checked={sortBy === SORT_BY_NAME}\r\n        onChange={handleSort}/>\r\n      <span className=\"sortBy__checked\"/>\r\n      Сортировка по алфавиту\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport default SortBy;\r\n","import React from 'react';\r\nimport Author from './Author'\r\nimport Search from './Search'\r\nimport PageNavigation from './PageNavigation'\r\nimport SortBy from './SortBy'\r\nimport data from '../data/data'\r\nimport {SORT_BY_NAME, SORT_BY_VIEWS} from '../data/constants'\r\n\r\n\r\nexport default class Authors extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      authors: [],\r\n      searchQuery: \"\",\r\n      page: 1,\r\n      sortBy: SORT_BY_VIEWS\r\n    }\r\n  }\r\n\r\n  handleSearch = ({target: {value: searchQuery}}) => {\r\n    const searchedAuthors = this.defaultAuthors.filter((item) => {\r\n      return item.name.toLowerCase().includes(searchQuery.toLowerCase());\r\n    });\r\n    this.setState({\r\n      authors: searchedAuthors,\r\n      searchQuery,\r\n      page: 1\r\n    });\r\n  };\r\n\r\n  handleSort = ({target: {name: sortBy}}) => {\r\n    let authors = this.state.authors;\r\n    switch (sortBy) {\r\n      case SORT_BY_VIEWS:\r\n        this.defaultAuthors = this.defaultAuthors.sort(this.sortByViews);\r\n        authors = authors.sort(this.sortByViews);\r\n        break;\r\n      case SORT_BY_NAME:\r\n        this.defaultAuthors = this.defaultAuthors.sort(this.sortByNames);\r\n        authors = authors.sort(this.sortByNames);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.setState({\r\n      authors,\r\n      sortBy,\r\n      page: 1\r\n    });\r\n  };\r\n\r\n  setPage = (page) => {\r\n    this.setState({\r\n      page\r\n    });\r\n  };\r\n\r\n  sortByViews = (a, b) => {\r\n    return b.pageviews - a.pageviews;\r\n  };\r\n\r\n  sortByNames = (a, b) => {\r\n    if (a.name < b.name) return -1;\r\n    if (a.name > b.name) return 1;\r\n    return 0;\r\n  };\r\n\r\n  componentDidMount() {\r\n    let authors = data.sort(this.sortByViews);\r\n    for (let i = 0; i < 3; i++) {\r\n      authors[i].topPlace = i + 1;\r\n    }\r\n\r\n    this.setState({\r\n      authors\r\n    }, () => {\r\n      this.defaultAuthors = authors;\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const {authors, page, searchQuery, sortBy} = this.state;\r\n    const arrayIndex = (page - 1) * 10;\r\n    return (\r\n      <>\r\n        <SortBy\r\n          sortBy={sortBy}\r\n          handleSort={this.handleSort}/>\r\n        <div\r\n          className=\"authors\">\r\n          <Search\r\n            handleSearch={this.handleSearch}\r\n            searchQuery={searchQuery}/>\r\n          <ol>\r\n            {authors.slice(arrayIndex, arrayIndex + 10).map((item, index) => {\r\n              return <Author\r\n                key={`${item.name}${item.pageviews}${item.count_pub}`}\r\n                user={item}\r\n                index={arrayIndex + index}/>\r\n            })}\r\n          </ol>\r\n        </div>\r\n        <PageNavigation\r\n          authorsCount={authors.length}\r\n          page={page}\r\n          setPage={this.setPage}/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport Authors from \"./Authors\"\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <Authors/>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'reset-css'\nimport './style/index.sass'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n\n"],"sourceRoot":""}